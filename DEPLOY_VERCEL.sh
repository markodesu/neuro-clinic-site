#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

echo "üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel..."
echo ""

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É frontend
cd frontend

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ build —Ä–∞–±–æ—Ç–∞–µ—Ç
echo "üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏..."
npm run build

if [ $? -eq 0 ]; then
    echo "‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞!"
    echo ""
    echo "üåê –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è..."
    vercel
    
    echo ""
    echo "üìù –ù–µ –∑–∞–±—É–¥—å—Ç–µ:"
    echo "1. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è REACT_APP_API_URL –≤ Vercel Dashboard"
    echo "2. –£–∫–∞–∑–∞—Ç—å –≤–∞—à Railway backend URL"
else
    echo "‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏!"
    exit 1
fi
